<%= form_with(model: @request, url: create_request_path, local: true) do |form| %>
  <div class="grid gap-6 mt-4 md:grid-cols-2 p-5">
    <!-- Name Field -->
    <div>
      <%= form.label :name, class: "block mb-2 text-sm font-medium text-gray-900" %>
      <%= form.text_field :name, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-lightGreen focus:border-lightGreen block w-full p-2.5", placeholder: "John" %>
    </div>

    <!-- Phone Number Field -->
    <div>
      <%= form.label :phone_number, class: "block mb-2 text-sm font-medium text-gray-900" %>
      <%= form.text_field :phone_number, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-lightGreen focus:border-lightGreen block w-full p-2.5", placeholder: "123-45-678" %>
    </div>

    <!-- Residence Address -->
    <div>
      <%= form.label :residence_address, class: "block mb-2 text-sm font-medium text-gray-900" %>
      <%= form.text_field :residence_address, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-lightGreen focus:border-lightGreen block w-full p-2.5", placeholder: "Buziga Hill PO BOX 16562" %>
    </div>

    <!-- Request Type -->
    <div>
      <%= form.label :request_type, "Donation type", class: "block mb-2 text-sm font-medium text-gray-900" %>
      <%= form.select :request_type, options_for_select([["Food Request", "food_request"], ["Donation Request", "donation_request"], ["Others", "others"]]), { prompt: 'Select request type' }, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-lightGreen focus:border-lightGreen block w-full p-2.5" %>
    </div>

    <% uuid = SecureRandom.uuid %>

    <!-- District -->
    <div>
      <%= form.label :district_id, "District", class: "block mb-2 text-sm font-medium text-gray-900" %>
      <%= form.collection_select :district_id, @districts, :id, :name, { prompt: 'Select a district' }, { id: "district-select-#{uuid}", class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-lightGreen focus:border-lightGreen block w-full p-2.5", data: { uuid: uuid, context_path: "requests" } } %>
    </div>

    <!-- County -->
    <div>
      <%= form.label :county_id, "County", class: "block mb-2 text-sm font-medium text-gray-900" %>
      <%= form.collection_select :county_id, @counties, :id, :name, { prompt: 'Select a county' }, { id: "county-select-#{uuid}", class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-lightGreen focus:border-lightGreen block w-full p-2.5", data: { context_path: "requests" } } %>
    </div>

    <!-- Sub-County -->
    <div>
      <%= form.label :sub_county_id, "Sub-County", class: "block mb-2 text-sm font-medium text-gray-900" %>
      <%= form.collection_select :sub_county_id, [], :id, :name, { prompt: 'Select a sub-county' }, { id: "sub-county-select-#{uuid}", class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-lightGreen focus:border-lightGreen block w-full p-2.5" } %>
    </div>

    <!-- Branch -->
    <div>
      <%= form.label :branch_id, "Branch", class: "block mb-2 text-sm font-medium text-gray-900" %>
      <%= form.collection_select :branch_id, @branches, :id, :name, { prompt: 'Select a branch' }, { id: "branch-select-#{uuid}", class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-lightGreen focus:border-lightGreen block w-full p-2.5", data: { context_path: "requests" } } %>
    </div>

    <!-- Submit Button -->
    <div class="md:col-span-2">
      <%= form.submit class: "text-white bg-lightGreen hover:bg-darkGreen focus:ring-4 focus:outline-none focus:ring-lightGreen font-medium rounded-lg text-sm px-5 py-2.5 text-center" %>
    </div>
  </div>
<% end %>
